import{g as b,u as y,r as l,j as e,L as j}from"./index-bip1bZJL.js";import{u as w}from"./user-DGwC1Own.js";import{B as N}from"./Back-CvFdVUNO.js";import"./index-B1eWHYHJ.js";function S(){const d=b(),c=y(),{email:n}=d.state||{},[i,p]=l.useState(["","","",""]),[u,m]=l.useState(""),[a,f]=l.useState(!0),g=()=>{f(!a)};l.useEffect(()=>{n||c("/signup")},[n,c]);const x=(s,t)=>{if(!/^\d*$/.test(t))return;m("");const r=[...i];if(r[s]=t,p(r),t&&s<i.length-1){const o=document.getElementById(`otp-input-${s+1}`);o&&o.focus()}else if(!t&&s>0){const o=document.getElementById(`otp-input-${s-1}`);o&&o.focus()}};l.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const h=s=>{s.preventDefault();const t=i.join(""),r=w.find(o=>o.email===n);r&&t===r.reset_code?(localStorage.setItem("isVerified","true"),c("/create-new-password")):m("Invalid OTP. Please try again.")};return e.jsxs("div",{className:`relative flex flex-col items-center justify-center min-h-screen ${a?"bg-[rgba(19,19,26,1)]":"bg-white"}`,style:{fontFamily:"Epilogue",padding:"24px"},children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("i",{className:`pi pi-lightbulb cursor-pointer ${a?"text-yellow-500":"text-gray-800"}`,style:{fontSize:"2rem"},onClick:g})}),e.jsx("div",{className:"absolute w-full h-full bottom-0 transform translate-y-1/2",style:{background:"url(/images/EllipseBL.png)",backgroundSize:"cover",backgroundPosition:"center"}}),e.jsxs("div",{className:`p-6 md:p-8 rounded-lg w-full max-w-[455px] h-auto shadow-lg z-10 flex flex-col items-center ${a?"bg-[rgba(28,28,36,1)] text-white":"bg-white text-black"}`,children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-left",children:"Forgot Password"}),e.jsx("p",{className:"mb-2 text-left",style:{color:"rgba(178, 179, 189, 1)"},children:"Please Enter the OTP you received to"}),e.jsx("p",{className:"mb-4 text-center ",style:{color:a?"white":"rgba(23, 23, 37, 1)"},children:n}),e.jsx("div",{className:"space-x-2 mb-4 flex justify-center",children:i.map((s,t)=>e.jsx("input",{id:`otp-input-${t}`,type:"text",value:s,onChange:r=>x(t,r.target.value),maxLength:"1",className:`border rounded p-2 w-12 text-center ${a?"bg-gray-700 text-white border-gray-600":"border-gray-300"}`,style:{height:"65px"}},t))}),u&&e.jsx("div",{className:"text-red-500 mb-2",children:u}),e.jsx("div",{className:"flex justify-between w-full mt-4",children:e.jsx(j,{to:"#",className:"text-purple-500 mb-3",children:"Resend OTP"})}),e.jsx("button",{type:"submit",className:"bg-[#1DC071] text-white py-2 px-4 rounded w-full mt-2",onClick:h,children:"Confirm"}),e.jsxs("a",{href:"/login",className:"text-purple-500 mt-2 flex items-center",children:[e.jsx(N,{className:"mr-2"})," Back to login"]})]})]})}export{S as default};
