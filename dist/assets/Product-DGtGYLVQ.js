import{R as v,r as d,j as t,u as k}from"./index-bip1bZJL.js";import{F as R}from"./Footer-Cd8HA7IL.js";import{b as O,f as N,H as M}from"./Header-D5Vdzl9x.js";import{L as Y}from"./Layout-Cnb8wrxi.js";import{C as S,p as B}from"./data-DIzMAdG_.js";import{P as h}from"./index-B1eWHYHJ.js";import{B as F}from"./BreadCrumb-DJbBKqnA.js";import"./api.esm-DxGIPajk.js";import"./proxy-BZWb0IlI.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var w=function(o,n){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var s in e)e.hasOwnProperty(s)&&(r[s]=e[s])},w(o,n)};function H(o,n){w(o,n);function r(){this.constructor=o}o.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var j=function(){return j=Object.assign||function(n){for(var r,e=1,s=arguments.length;e<s;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},j.apply(this,arguments)};function $(o,n,r,e){var s,i=!1,c=0;function a(){s&&clearTimeout(s)}function m(){a(),i=!0}typeof n!="boolean"&&(e=r,r=n,n=void 0);function f(){var x=this,g=Date.now()-c,l=arguments;if(i)return;function p(){c=Date.now(),r.apply(x,l)}function u(){s=void 0}e&&!s&&p(),a(),e===void 0&&g>o?p():n!==!0&&(s=setTimeout(e?u:p,e===void 0?o-g:o))}return f.cancel=m,f}var y={Pixel:"Pixel",Percent:"Percent"},T={unit:y.Percent,value:.8};function C(o){return typeof o=="number"?{unit:y.Percent,value:o*100}:typeof o=="string"?o.match(/^(\d*(\.\d+)?)px$/)?{unit:y.Pixel,value:parseFloat(o)}:o.match(/^(\d*(\.\d+)?)%$/)?{unit:y.Percent,value:parseFloat(o)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),T):(console.warn("scrollThreshold should be string or number"),T)}var z=function(o){H(n,o);function n(r){var e=o.call(this,r)||this;return e.lastScrollTop=0,e.actionTriggered=!1,e.startY=0,e.currentY=0,e.dragging=!1,e.maxPullDownDistance=0,e.getScrollableTarget=function(){return e.props.scrollableTarget instanceof HTMLElement?e.props.scrollableTarget:typeof e.props.scrollableTarget=="string"?document.getElementById(e.props.scrollableTarget):(e.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},e.onStart=function(s){e.lastScrollTop||(e.dragging=!0,s instanceof MouseEvent?e.startY=s.pageY:s instanceof TouchEvent&&(e.startY=s.touches[0].pageY),e.currentY=e.startY,e._infScroll&&(e._infScroll.style.willChange="transform",e._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},e.onMove=function(s){e.dragging&&(s instanceof MouseEvent?e.currentY=s.pageY:s instanceof TouchEvent&&(e.currentY=s.touches[0].pageY),!(e.currentY<e.startY)&&(e.currentY-e.startY>=Number(e.props.pullDownToRefreshThreshold)&&e.setState({pullToRefreshThresholdBreached:!0}),!(e.currentY-e.startY>e.maxPullDownDistance*1.5)&&e._infScroll&&(e._infScroll.style.overflow="visible",e._infScroll.style.transform="translate3d(0px, "+(e.currentY-e.startY)+"px, 0px)")))},e.onEnd=function(){e.startY=0,e.currentY=0,e.dragging=!1,e.state.pullToRefreshThresholdBreached&&(e.props.refreshFunction&&e.props.refreshFunction(),e.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){e._infScroll&&(e._infScroll.style.overflow="auto",e._infScroll.style.transform="none",e._infScroll.style.willChange="unset")})},e.onScrollListener=function(s){typeof e.props.onScroll=="function"&&setTimeout(function(){return e.props.onScroll&&e.props.onScroll(s)},0);var i=e.props.height||e._scrollableNode?s.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!e.actionTriggered){var c=e.props.inverse?e.isElementAtTop(i,e.props.scrollThreshold):e.isElementAtBottom(i,e.props.scrollThreshold);c&&e.props.hasMore&&(e.actionTriggered=!0,e.setState({showLoader:!0}),e.props.next&&e.props.next()),e.lastScrollTop=i.scrollTop}},e.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:r.dataLength},e.throttledOnScrollListener=$(150,e.onScrollListener).bind(e),e.onStart=e.onStart.bind(e),e.onMove=e.onMove.bind(e),e.onEnd=e.onEnd.bind(e),e}return n.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},n.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},n.prototype.componentDidUpdate=function(r){this.props.dataLength!==r.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},n.getDerivedStateFromProps=function(r,e){var s=r.dataLength!==e.prevDataLength;return s?j(j({},e),{prevDataLength:r.dataLength}):null},n.prototype.isElementAtTop=function(r,e){e===void 0&&(e=.8);var s=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,i=C(e);return i.unit===y.Pixel?r.scrollTop<=i.value+s-r.scrollHeight+1:r.scrollTop<=i.value/100+s-r.scrollHeight+1},n.prototype.isElementAtBottom=function(r,e){e===void 0&&(e=.8);var s=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,i=C(e);return i.unit===y.Pixel?r.scrollTop+s>=r.scrollHeight-i.value:r.scrollTop+s>=i.value/100*r.scrollHeight},n.prototype.render=function(){var r=this,e=j({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),s=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return v.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},v.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(c){return r._infScroll=c},style:e},this.props.pullDownToRefresh&&v.createElement("div",{style:{position:"relative"},ref:function(c){return r._pullDown=c}},v.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!s&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},n}(d.Component);const E=({selectedCategory:o,onRemoveCategory:n})=>t.jsx("div",{className:"flex justify-between items-center p-4 border border-gray-300 rounded-lg mb-4",style:{minHeight:"50px"},children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"mr-2",children:"Filters by: "}),Object.entries(o).map(([r,e])=>r!=="sortOption"&&e&&t.jsxs("div",{className:"flex items-center px-2 rounded-xl bg-blue-200 mr-2 text-[#303030]",children:[t.jsx("span",{children:`${e}`}),t.jsx("button",{className:"ml-2 text-red-500 font-bold",onClick:()=>n(r),children:"X"})]},r))]})});E.propTypes={selectedCategory:h.object.isRequired,onRemoveCategory:h.func.isRequired};const L=({currentPage:o,totalPages:n,onPageChange:r})=>{const e=()=>{const s=[];return n<=6?s.push(...Array.from({length:n},(c,a)=>a+1)):o<=3?(s.push(...Array.from({length:3},(c,a)=>a+1)),s.push("..."),s.push(n-1,n)):o>n-3?(s.push(1,2,3),s.push("..."),s.push(n-1,n)):(s.push(1,2,3),s.push("..."),s.push(o),s.push("..."),s.push(n-1,n)),s};return t.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-4",children:[t.jsx("button",{className:"px-3 py-1 border rounded-md bg-gray-200 hover:bg-gray-300",onClick:()=>r(o-1),disabled:o===1,children:"Previous"}),e().map((s,i)=>t.jsx("button",{className:`px-3 py-1 border rounded-md ${s===o?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,onClick:()=>typeof s=="number"&&r(s),disabled:s==="...",children:s},i)),t.jsx("button",{className:"px-3 py-1 border rounded-md bg-gray-200 hover:bg-gray-300",onClick:()=>r(o+1),disabled:o===n,children:"Next"})]})};L.propTypes={currentPage:h.number,totalPages:h.number,onPageChange:h.func};const _=({products:o,selectedCategory:n,onRemoveCategory:r,onProductClick:e})=>{const[s,i]=d.useState(1),{isMobile:c}=O(),a=Math.ceil(o.length/6),m=d.useCallback(()=>{s<a&&i(l=>l+1)},[s,a]),f=d.useCallback(l=>{i(l)},[]),x=d.useMemo(()=>c?o.slice(0,s*6):o.slice((s-1)*6,s*6),[o,s,c]),g=d.useCallback((l,p)=>{if(typeof l!="string")return l;const u=l.split(" ");return u.length>p?u.slice(0,p).join(" ")+"...":l},[]);return t.jsxs("div",{children:[t.jsx(E,{selectedCategory:n,onRemoveCategory:r}),c?t.jsx(z,{dataLength:x.length,next:m,hasMore:s<a,loader:t.jsx("div",{className:"flex justify-center my-4",children:t.jsx("div",{className:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12"})}),endMessage:t.jsx("p",{className:"text-center",children:"You have seen all products"}),children:t.jsx("div",{className:"grid gap-2 sm:gap-3 lg:gap-5 mb-10 grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3",children:x.map((l,p)=>t.jsx(S,{nameProduct:l.productName,description:g(l.productDescription||"",14),price:N(l.variants[0].price),brand:l.brandName,imageUrl:l.variants[0].images[0],onClick:()=>e(l.productName)},p))})}):t.jsxs("div",{children:[t.jsx("div",{className:"grid gap-5 mb-10 grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3",children:x.map((l,p)=>t.jsx(S,{nameProduct:l.productName,description:g(l.productDescription,14),price:N(l.variants[0].price),brand:l.brandName,imageUrl:l.variants[0].images[0],onClick:()=>e(l.productName)},p))}),t.jsx(L,{currentPage:s,totalPages:a,onPageChange:f})]})]})};_.propTypes={products:h.array.isRequired,selectedCategory:h.object.isRequired,onRemoveCategory:h.func.isRequired,onProductClick:h.func.isRequired};const b=({isOpen:o})=>t.jsx("svg",{className:`w-4 h-4 transform transition-transform ${o?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})});b.displayName="ArrowIcon";b.propTypes={isOpen:h.bool.isRequired};const P=({onCategoryChange:o,selectedCategory:n})=>{const[r,e]=d.useState(!1),[s,i]=d.useState(!0),[c,a]=d.useState(!0),[m,f]=d.useState(!0),x=d.useCallback(()=>{e(u=>!u)},[]),g=d.useCallback(()=>{i(u=>!u)},[]),l=d.useCallback(()=>{a(u=>!u)},[]),p=d.useCallback(()=>{f(u=>!u)},[]);return t.jsxs("div",{className:"p-4 bg-white border border-gray-300 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between text-xl font-bold px-4 py-2",children:[t.jsx("span",{children:"Category"}),t.jsx("button",{className:"p-2 rounded-lg md:hidden",onClick:x,children:t.jsx(b,{isOpen:r})})]}),t.jsxs("div",{className:`mt-2 md:block ${r?"block":"hidden"}`,children:[t.jsxs("button",{className:"w-full flex justify-between items-center py-2 px-4",onClick:g,children:[t.jsx("span",{children:"Brands"}),t.jsx(b,{isOpen:s})]}),s&&t.jsxs("form",{className:"px-4 mt-2",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"radio",name:"brand",className:"mr-2",onChange:()=>o("brand:Brand 1"),checked:n.brand==="Brand 1"}),t.jsx("label",{htmlFor:"brand1",children:"Brand 1"}),t.jsx("span",{className:"ml-auto",children:"(10)"})]}),t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"radio",name:"brand",className:"mr-2",onChange:()=>o("brand:Brand 2"),checked:n.brand==="Brand 2"}),t.jsx("label",{htmlFor:"brand2",children:"Brand 2"}),t.jsx("span",{className:"ml-auto",children:"(15)"})]})]}),t.jsx("hr",{className:"my-2"}),t.jsxs("button",{className:"w-full flex justify-between items-center py-2 px-4",onClick:l,children:[t.jsx("span",{children:"Price"}),t.jsx(b,{isOpen:c})]}),c&&t.jsxs("div",{className:"px-4 mt-2",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"radio",name:"price",className:"mr-2",onChange:()=>o("price:Under $50"),checked:n.price==="Under $50"}),t.jsx("label",{htmlFor:"price1",children:"Under $50"}),t.jsx("span",{className:"ml-auto",children:"(20)"})]}),t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"radio",name:"price",className:"mr-2",onChange:()=>o("price:$50 to $100"),checked:n.price==="$50 to $100"}),t.jsx("label",{htmlFor:"price2",children:"$50 to $100"}),t.jsx("span",{className:"ml-auto",children:"(30)"})]})]}),t.jsx("hr",{className:"my-2"}),t.jsxs("button",{className:"w-full flex justify-between items-center py-2 px-4",onClick:p,children:[t.jsx("span",{children:"Size"}),t.jsx(b,{isOpen:m})]}),m&&t.jsxs("div",{className:"px-4 mt-2",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"radio",name:"size",className:"mr-2",onChange:()=>o("size:Small"),checked:n.size==="Small"}),t.jsx("label",{htmlFor:"size1",children:"Small"}),t.jsx("span",{className:"ml-auto",children:"(25)"})]}),t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"radio",name:"size",className:"mr-2",onChange:()=>o("size:Medium"),checked:n.size==="Medium"}),t.jsx("label",{htmlFor:"size2",children:"Medium"}),t.jsx("span",{className:"ml-auto",children:"(35)"})]})]})]})]})},A=v.memo(P);P.propTypes={onCategoryChange:h.func.isRequired,selectedCategory:h.shape({brand:h.string,price:h.string,size:h.string}).isRequired};const D=({sortOption:o,setSortOption:n})=>{const r=e=>{n(e.target.value)};return t.jsxs("div",{className:"relative mb-4 flex items-center space-x-2",children:[t.jsx("span",{className:"hidden md:inline",children:"Sort by"}),t.jsxs("select",{value:o,onChange:r,className:"p-2 border rounded",children:[t.jsx("option",{value:"Popularity",children:"Popularity"}),t.jsx("option",{value:"Price Low to High",children:"Price: Low to High"}),t.jsx("option",{value:"Price High to Low",children:"Price: High to Low"}),t.jsx("option",{value:"Newest",children:"Newest"})]})]})};D.propTypes={sortOption:h.string.isRequired,setSortOption:h.func.isRequired};const q=()=>{const o=k(),[n,r]=d.useState({brand:"",price:"",size:"",sortOption:"Popularity"}),e=d.useCallback(a=>{r(m=>({...m,...a}))},[]),s=d.useCallback(a=>{const[m,f]=a.split(":");e({[m]:f})},[e]),i=d.useCallback(a=>{e({[a]:""})},[e]),c=a=>{o(`/products/${a}`)};return t.jsxs(v.Fragment,{children:[t.jsx(M,{}),t.jsxs(Y,{children:[t.jsxs("div",{className:"flex flex-col overflow-hidden",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-2 md:space-y-0",children:[t.jsx("p",{className:"text-2xl font-bold",children:"Products"}),t.jsx(D,{sortOption:n.sortOption,setSortOption:a=>e({sortOption:a})})]}),t.jsx("div",{className:"my-5",children:t.jsx(F,{})}),t.jsxs("div",{className:"flex flex-col md:flex-row",children:[t.jsx("div",{className:"w-full md:w-1/4",children:t.jsx(A,{onCategoryChange:s,selectedCategory:n})}),t.jsx("div",{className:"w-full md:w-3/4 ml-0 md:ml-4",children:t.jsx(_,{products:B,selectedCategory:n,onCategoryChange:s,onRemoveCategory:i,onProductClick:c})})]})]}),t.jsx("br",{})]}),t.jsx(R,{})]})},Z=v.memo(q);export{Z as default};
