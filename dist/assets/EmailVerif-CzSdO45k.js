import{g as h,u as b,r as i,j as e,L as y}from"./index-bip1bZJL.js";import{u as j}from"./user-DGwC1Own.js";import{B as w}from"./Back-CvFdVUNO.js";import"./index-B1eWHYHJ.js";function S(){const u=h(),c=b(),{email:r,password:d}=u.state||{},[l,p]=i.useState(["","","",""]),[m,g]=i.useState(""),[n]=i.useState(!0);i.useEffect(()=>(document.body.style.overflow="hidden",r||c("/signup"),()=>{document.body.style.overflow="unset"}),[r,c]);const f=(s,t)=>{if(!/^\d*$/.test(t))return;const a=[...l];if(a[s]=t,p(a),t&&s<l.length-1){const o=document.getElementById(`otp-input-${s+1}`);o&&o.focus()}else if(!t&&s>0){const o=document.getElementById(`otp-input-${s-1}`);o&&o.focus()}},x=s=>{s.preventDefault();const t=l.join(""),a=j.find(o=>o.email===r);a&&t===a.active_code?(localStorage.setItem("isVerified","true"),console.log("Email:",r),console.log("Password:",d),c("/congratulations")):g("Invalid OTP. Please try again.")};return e.jsxs("div",{className:`relative flex items-center justify-center min-h-screen ${n?"bg-[rgba(19,19,26,1)]":"bg-white"}`,children:[e.jsx("div",{className:"absolute top-4 right-4"}),e.jsx("div",{className:"absolute w-full h-full bottom-0 transform translate-y-1/2",style:{background:"url(/images/EllipseBL.png)",backgroundSize:"cover",backgroundPosition:"center"}}),e.jsxs("div",{className:`p-8 rounded-lg w-[455px] h-[467px] shadow-lg z-10 flex flex-col ${n?"bg-[rgba(28,28,36,1)] text-white":"bg-white text-black"}`,children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",style:{fontSize:"25px"},children:"Email Verification"}),e.jsx("p",{className:"mb-2",style:{color:"rgba(178, 179, 189, 1)"},children:"Please Enter the OTP you receive to"}),e.jsx("p",{className:"mb-4 text-white",style:{color:n?"white":"rgba(23, 23, 37, 1)"},children:r}),e.jsx("div",{className:"space-x-2 mb-4",children:l.map((s,t)=>e.jsx("input",{id:`otp-input-${t}`,type:"text",value:s,onChange:a=>f(t,a.target.value),maxLength:"1",className:`border rounded p-2 w-12 text-center ${n?"bg-gray-700 text-white border-gray-600":"border-gray-300"}`,style:{height:"65px"}},t))}),m&&e.jsx("div",{className:"text-red-500 mb-2",children:m}),e.jsx("div",{className:"flex justify-between w-full mt-4",children:e.jsx(y,{href:"#",className:"text-purple-500 mb-3",children:"Resend OTP"})}),e.jsx("button",{type:"submit",className:"bg-[#1DC071] text-white py-2 px-4 rounded w-full mt-2",onClick:x,children:"Confirm"}),e.jsxs("a",{href:"/login",className:"text-purple-500 mt-2 flex items-center",children:[e.jsx(w,{className:"mr-2"})," Back to login"]})]})]})}export{S as default};
